# set-option => set (alias)
# bind-key => bind (alias)

set -g default-terminal "${TERM}"
set -sa terminal-overrides ",*:RGB"

# Enable mouse controls
set -g mouse on
set -g escape-time 0

# Start windows and panes at 1, not 0
set -g base-index 1  # starting index for windows
set -g pane-base-index 1  # starting index for panes
set -g renumber-windows on  # renumber windows on delete
# set-window-option -g pane-base-index 1

# Status bar colors and content
# set -g status-style 'bg=#1a1b26 fg=#7AA2F7'
# set -g status-right '#{battery_percentage} | %H:%M %a %e.%m.%Y'

# Add TPM and its plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-yank'

# Configure the theme plugin
set -g @plugin "janoamaral/tokyo-night-tmux"
set -g @tokyo-night-tmux_window_id_style none
set -g @tokyo-night-tmux_pane_id_style hide
set -g @tokyo-night-tmux_show_datetime 1
set -g @tokyo-night-tmux_show_git 0
set -g @tokyo-night-tmux_show_battery_widget 1
set -g @tokyo-night-tmux_date_format WDMY

# Set copy mode keybinds to Vi
set-window-option -g mode-keys vi

# Copy-mode additional keybinds
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-selection-and-cancel

# Add the tmux_sessionizer by Primeagen
bind f run-shell "tmux neww ~/.local/bin/tmux-sessionizer"

# New splits should be opened in the current folder
bind '"' split-window -v -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"

# Set the default new folder to the current folder
bind C-r attach-session -c "#{pane_current_path}"

run '~/.tmux/plugins/tpm/tpm'
